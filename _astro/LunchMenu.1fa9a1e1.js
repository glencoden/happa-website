import{g as o,i as h,c as p,t as y}from"./web.eda076f5.js";import{b as a,o as w,c as i,a as m,S as c}from"./solid.280e3150.js";import{A}from"./ArticleDefault.6f728709.js";import{R as E}from"./RichText.9642ab6b.js";import{L as t,T as D}from"./Text.d84ae04f.js";import"./Button.a9681659.js";import"./Image.e9f895ec.js";import"./Link.9abb73dd.js";const u=n=>Array.isArray(n)?n.map(e=>Array.isArray(e.children)?{children:e.children}:(console.warn("unexpected parser input:",e.children),{children:[]})):(console.warn("unexpected parser input:",n),[]),U=n=>{const e=n?.result;return!Array.isArray(e)||e.length===0?(console.warn("unexpected parser input:",n),null):{title:{[t.English]:e[0].title?.en||"",[t.German]:e[0].title?.de||""},subtitle:e[0].subtitle?{[t.English]:e[0].subtitle.en||"",[t.German]:e[0].subtitle.de||""}:null,date:e[0].date||null,content:{[t.English]:u(e[0].description?.en),[t.German]:u(e[0].description?.de)},buttonText:e[0].buttonText?{[t.English]:e[0].buttonText.en||"",[t.German]:e[0].buttonText.de||""}:null,buttonLink:e[0].buttonLink||null,imageUrl:e[0].imageUrl}},R=n=>{const e=n?.result;return!Array.isArray(e)||e.length===0?(console.warn("unexpected parser input:",e),null):{title:{[t.English]:e[0].title?.en||"",[t.German]:e[0].title?.de||""},menu:{[t.English]:u(e[0].menu?.en),[t.German]:u(e[0].menu?.de)}}},S="hwz0ma01",T="production",G=`https://${S}.api.sanity.io/v2021-10-21/data/query/${T}`;class L{_get(e){return fetch(e).then(l=>l.json()).catch(console.error)}_createSanityUrl(e){return`${G}?query=${e}`}getLunchMenuData(){const e=this._createSanityUrl(encodeURIComponent('*[_type == "lunchMenu"]'));return this._get(e).then(R)}getLunchDescriptionData(){const e=this._createSanityUrl(encodeURIComponent(`
                *[_type == "lunchDescription"]{
                    title,
                    description,
                    "imageUrl": image.asset->url
                }
            `));return this._get(e).then(U)}}const g=new L,M="_title_34u7h_1",$="_menu_34u7h_8",d={title:M,menu:$},b=y("<h2>"),q=y("<p>"),H=()=>{const[n,e]=a(null),[l,_]=a(null),[s,f]=a(null);return w(async()=>{try{const r=await g.getLunchMenuData();e(r?.title??null),_(r?.menu??null);const x=await g.getLunchDescriptionData();f(x)}catch(r){console.error(r)}}),[i(c,{get when(){return n()!==null},get children(){const r=o(b);return h(r,i(D,{get en(){return n()[t.English]},get de(){return n()[t.German]}})),m(()=>p(r,d.title)),r}}),i(c,{get when(){return l()!==null},get children(){const r=o(q);return h(r,i(E,{get en(){return l()[t.English]},get de(){return l()[t.German]}})),m(()=>p(r,d.menu)),r}}),i(c,{get when(){return s()!==null},get children(){return i(A,{get imageUrl(){return s().imageUrl},get title(){return s().title},get content(){return s().content}})}})]};export{H as default};
